(()=>{"use strict";var e={36311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("input");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},25267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModalEventsEnum=void 0,function(e){e.HIDE_ALL="modal.hide-all",e.OPENED="modal.opened",e.CLOSED="modal.closed",e.REMOVED="modal.removed"}(t.BaseModalEventsEnum||(t.BaseModalEventsEnum={}))},78296:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPlacementsEnum=void 0,function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.AUTO="auto",e.AUTO_X="auto-x",e.AUTO_Y="auto-y"}(t.PopoverPlacementsEnum||(t.PopoverPlacementsEnum={}))},72459:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(52887));window.shareProvider=new o.default},97233:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["__Скопировано"]=t["__Другие_способы"]=t["__Скопировать_ссылку"]=t["__Вконтакте"]=t["__Одноклассники"]=t["__Поделиться"]=void 0,t["__Поделиться"]="Поделиться",t["__Одноклассники"]="Одноклассники",t["__Вконтакте"]="Вконтакте",t["__Скопировать_ссылку"]="Скопировать ссылку",t["__Другие_способы"]="Другие способы",t["__Скопировано"]="Скопировано"},52887:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(35911)),r=function(){function e(){}return e.prototype.getWidget=function(e){return new o.default(e)},e.prototype.initById=function(e){var t=this,n=document.getElementById(e);null!==n&&n.addEventListener("click",(function(){t.getWidget(n).setOptions({url:n.dataset.url,imageUrl:n.dataset.imageUrl,title:n.dataset.title}).show()}))},e}();t.default=r},35911:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6543),r=i(n(80138)),s=i(n(36311)),_=n(25267),a=n(78296),c=n(97233),E=function(){function e(e){this._toggle=e,this.SELECTOR_LINK=".share__link",this.SELECTOR_OTHER="[data-role=other]"}return e.prototype.setOptions=function(e){return this._options=e,this._initUrl(),this},e.prototype.show=function(e){var t=this;this._initUrl(),(new r.default).isDesktop?(this._popover=window.popoverBlock.draw(this._toggle,this._getContent(),{class:"share-popover","bem-modifier":"_no-widths"},{placement:e&&e.popoverPlacement?e.popoverPlacement:a.PopoverPlacementsEnum.BOTTOM,inBody:!0}),this._popover.onHide((function(){t._popover.destroy(),t._popover=null})),setTimeout((function(){t._popover.toggle(!0)}))):(this._modal=window.modalProvider.getInstance({headerHtml:c.__Поделиться,contentHtml:this._getContent(),bottomSheet:!0,removeOnHidden:!0}),this._modal.show())},e.prototype._getContent=function(){var e=document.createElement("div");e.innerHTML=this._html();var t=e.firstElementChild;!1===this._isWebShareApiSupported()&&t.querySelector(this.SELECTOR_OTHER).parentElement.remove();for(var n=0,i=[].slice.call(t.querySelectorAll(this.SELECTOR_LINK));n<i.length;n++){i[n].addEventListener("click",this._linkClickHandler.bind(this))}return t},e.prototype._html=function(){var e=this._shareUrlParamsString;return'\n\t\t\t<div class="share">\n\t\t\t\t<ul class="share__list">\n\t\t\t\t\t<li class="share__list-item">\n\t\t\t\t\t\t<a class="share__link  share__link_vk" href="https://vk.com/share.php?'.concat(e,'" target="_blank">\n\t\t\t\t\t\t\t').concat(c.__Вконтакте,'\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="share__list-item">\n\t\t\t\t\t\t<a class="share__link  share__link_ok" href="https://connect.ok.ru/offer?').concat(e,'" target="_blank">').concat(c.__Одноклассники,'</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="share__list-item">\n\t\t\t\t\t\t<a class="share__link  share__link_copy" data-role="copy">').concat(c.__Скопировать_ссылку,'</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="share__list-item">\n\t\t\t\t\t\t<a class="share__link  share__link_other" data-role="other">').concat(c.__Другие_способы,"</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t")},e.prototype._isWebShareApiSupported=function(){return void 0!==navigator.share},e.prototype._linkClickHandler=function(e){var t=e.target;this._popover&&this._popover.toggle(!1),this._modal&&this._modal.hide(),(0,o.domDispatchEvent)(_.BaseModalEventsEnum.HIDE_ALL),"copy"===t.dataset.role?((0,s.default)(this._url),window.popup.show(c.__Скопировано,"",3e3)):"other"===t.dataset.role?navigator.share({url:this._url,title:this._options.title||document.title}):(new r.default).isDesktop&&(e.preventDefault(),this._popupCenter(t.href,c.__Поделиться,360,500))},e.prototype._popupCenter=function(e,t,n,i){var o=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,_=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=s/window.screen.availWidth,c=(s-n)/2/a+o,E=(_-i)/2/a+r,l=window.open(e,t,"scrollbars=yes, width="+n/a+", height="+i/a+", top="+E+", left="+c);window.focus&&l.focus()},e.prototype._initUrl=function(){this._url=this._options.url||window.location.href;var e=[];e.push("url=".concat(encodeURIComponent(this._url))),this._options.title&&e.push("title=".concat(encodeURIComponent(this._options.title))),this._options.imageUrl&&e.push("image=".concat(encodeURIComponent(this._options.imageUrl))),this._shareUrlParamsString=e.join("&")},e}();t.default=E},6543:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.domDispatchEvent=void 0,t.domDispatchEvent=function(e,t,n){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,n),void 0===t?window.dispatchEvent(i):t.dispatchEvent(i)}},42601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenTypes=void 0,function(e){e[e.SCREEN_NOT_SUPPORTED=0]="SCREEN_NOT_SUPPORTED",e[e.SCREEN_WIDE=1]="SCREEN_WIDE",e[e.SCREEN_DESKTOP=2]="SCREEN_DESKTOP",e[e.SCREEN_TABLET=3]="SCREEN_TABLET",e[e.SCREEN_MOBILE=4]="SCREEN_MOBILE"}(t.ScreenTypes||(t.ScreenTypes={}))},80138:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(42601),o=function(){function e(){var e=this;this.SCREEN_MOBILE_MIN_WIDTH=320,this.SCREEN_MOBILE_MAX_WIDTH=767,this.SCREEN_TABLET_MAX_WIDTH=991,this.SCREEN_DESKTOP_MAX_WIDTH=1199,this.EVENT_RESIZE="resize",this.EVENT_OPTIMIZED_RESIZE="optimizedResize",this.EVENT_SCREEN_TYPE_CHANGED="screenTypeChanged",this._currentScreenType=null,this.optimizeResizeEvent=function(t){t=t||window;var n=!1;t.addEventListener(e.EVENT_RESIZE,(function(){n||(n=!0,requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent(e.EVENT_OPTIMIZED_RESIZE));var i=e.calcCurrent();e._currentScreenType!==i&&(e._currentScreenType=i,t.dispatchEvent(new CustomEvent(e.EVENT_SCREEN_TYPE_CHANGED))),n=!1})))}))}}return Object.defineProperty(e.prototype,"current",{get:function(){return null===this._currentScreenType&&(this._currentScreenType=this.calcCurrent()),this._currentScreenType},enumerable:!1,configurable:!0}),e.prototype.calcCurrent=function(){var e=document.querySelector('meta[name="screen-type-helper"]');if(null!==e)return parseInt(e.content,10);var t=window.matchMedia;if(t){if(t("(min-width: "+(this.SCREEN_DESKTOP_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_WIDE;if(t("(min-width: "+(this.SCREEN_TABLET_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_DESKTOP;if(t("(min-width: "+(this.SCREEN_MOBILE_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_TABLET;if(t("(min-width: "+this.SCREEN_MOBILE_MIN_WIDTH+"px)").matches)return i.ScreenTypes.SCREEN_MOBILE}else{var n=window.innerWidth;if(n>this.SCREEN_DESKTOP_MAX_WIDTH)return i.ScreenTypes.SCREEN_WIDE;if(n>this.SCREEN_TABLET_MAX_WIDTH)return i.ScreenTypes.SCREEN_DESKTOP;if(n>this.SCREEN_MOBILE_MAX_WIDTH)return i.ScreenTypes.SCREEN_TABLET;if(n>=this.SCREEN_MOBILE_MIN_WIDTH)return i.ScreenTypes.SCREEN_MOBILE}return i.ScreenTypes.SCREEN_NOT_SUPPORTED},e.prototype.check=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){if(i[n]===this.current)return!0}return!1},Object.defineProperty(e.prototype,"isDesktop",{get:function(){return this.check(i.ScreenTypes.SCREEN_DESKTOP,i.ScreenTypes.SCREEN_WIDE)},enumerable:!1,configurable:!0}),e.prototype.addResizeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.removeResizeListener=function(e){window.removeEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.addChangeScreenTypeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e.prototype.removeChangeScreenTypeListener=function(e){window.removeEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e}();t.default=o}},t={};(function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports})(72459)})();