(()=>{"use strict";var e={28405:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dom_getMaxZIndex=void 0,t.Dom_getMaxZIndex=function e(t,o){return void 0===o&&(o=0),t!==document.body&&t?Math.max(parseInt(window.getComputedStyle(t).zIndex,10)||0,e(t.parentElement,o)):o}},3986:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.String_random=void 0,t.String_random=function(e){void 0===e&&(e=5);var t="";do{t+=Math.random().toString(36).substring(2)}while(t.length<e);return t.substring(0,e)}},90892:function(e,t,o){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(o(69204));window.popoverBlock=new n.default},80296:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverBlockEventsEnum=void 0,function(e){e.CLOSE="popover-block.close"}(t.PopoverBlockEventsEnum||(t.PopoverBlockEventsEnum={}))},69204:function(e,t,o){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(o(67414)),r=o(78296),s=function(){function e(){}return e.prototype.drawById=function(e,t,o,i){return void 0===o&&(o={}),void 0===i&&(i={inBody:!1,trigger:"click",placement:r.PopoverPlacementsEnum.AUTO_Y}),this.draw(document.getElementById(e),document.getElementById(t),o,i)},e.prototype.draw=function(e,t,o,i){return void 0===o&&(o={}),void 0===i&&(i={inBody:!1,trigger:"click",placement:r.PopoverPlacementsEnum.AUTO_Y}),new n.default(e,t,o,i).init()},e}();t.default=s},67414:function(e,t,o){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(39837),r=i(o(80138)),s=o(28405),p=o(3986),c=o(80296),a=o(78296),l=function(){function e(e,t,o,i){void 0===o&&(o={}),void 0===i&&(i={placement:a.PopoverPlacementsEnum.AUTO_Y,inBody:!1}),this._wrapper=e,this._content=t,this._attributes=o,this._renderOptions=i,this.BLOCK_CLASS_WRAPPER="popover-wrapper",this.BLOCK_CLASS_POPOVER="popover-block",this.MODIFIER_SHOW="_show",this._onHideCallbacks=[],this._screen=new r.default}return e.prototype.init=function(){var e=this;if(this._wrapper.id?this._id=this._wrapper.id:(this._id="p-"+(0,p.String_random)(),this._wrapper.id=this._id),this._wrapper.classList.add(this.BLOCK_CLASS_WRAPPER),"string"==typeof this._content){var t=document.createElement("div");t.innerHTML=this._content,this._content=t}else this._content.remove();return"hover"===this._renderOptions.trigger?(this._wrapper.addEventListener("mouseleave",(function(){e.setHideTimeout()})),this._wrapperHandlerActive=function(){clearTimeout(e._hideTimeout),e._renderOptions.showTimeout?(clearTimeout(e._showTimeout),e._showTimeout=setTimeout((function(){e.toggle(!0)}),e._renderOptions.showTimeout)):e.toggle(!0)},this._wrapper.addEventListener("mouseenter",this._wrapperHandlerActive)):(this._clickHandlerActive=this.clickHandler.bind(this),this._closeHandlerActive=this.closeHandler.bind(this),window.addEventListener("click",this._clickHandlerActive),window.addEventListener(c.PopoverBlockEventsEnum.CLOSE,this._closeHandlerActive)),this._renderOptions.placement||(this._renderOptions.placement=a.PopoverPlacementsEnum.AUTO_Y),this},Object.defineProperty(e.prototype,"content",{set:function(e){if(this._popover&&(this._popover.innerHTML=""),"string"==typeof e){var t=document.createElement("div");t.innerHTML=e,this._content=t}else this._content=e;this._popover&&this._popover.appendChild(this._content)},enumerable:!1,configurable:!0}),e.prototype.getContent=function(){return this._content},Object.defineProperty(e.prototype,"beforeShowCallback",{set:function(e){this._beforeShowCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"afterShowCallback",{set:function(e){this._afterShowCallback=e},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){window.removeEventListener("click",this._clickHandlerActive),window.removeEventListener(c.PopoverBlockEventsEnum.CLOSE,this._closeHandlerActive),this._wrapper.removeEventListener("mouseenter",this._wrapperHandlerActive),this._popover&&this._popover.remove()},e.prototype.closeHandler=function(){this.toggle(!1)},e.prototype.clickHandler=function(e){null===e.target.closest("#pb-"+this._id)&&(e.target===this._wrapper||null!==e.target.closest("#"+this._id)?this.toggle():this.toggle(!1))},e.prototype.getPopover=function(){var e=this;if(this._popover)return this._popover;var t=this._content;return this._popover=document.createElement("div"),this._popover.id="pb-"+this._id,this._popover.classList.add(this.BLOCK_CLASS_POPOVER),this._popover.appendChild(t),t.removeAttribute("hidden"),Object.keys(this._attributes).forEach((function(t){"bem-modifier"===t?e._popover.classList.add(e.BLOCK_CLASS_POPOVER+e._attributes[t]):"class"!==t?e._popover.setAttribute(t,e._attributes[t]):"class"===t&&e._popover.classList.add(e._attributes[t])})),this._wrapper.closest(".base-modal")&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_in-modal"),this._renderOptions.padded&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_padded"),this._renderOptions.overflow&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_overflow"),this._renderOptions.inBody?document.body.appendChild(this._popover):this._wrapper.appendChild(this._popover),"hover"===this._renderOptions.trigger&&(this._popover.addEventListener("mouseleave",(function(){e.setHideTimeout()})),this._popover.addEventListener("mouseenter",(function(){clearTimeout(e._hideTimeout)}))),this._popover},e.prototype.toggle=function(e,t){void 0===e&&(e=!this.isShowed),e&&this._beforeShowCallback&&this._beforeShowCallback(),(0,n.domToggleClass)(this.getPopover(),this.BLOCK_CLASS_POPOVER+this.MODIFIER_SHOW,e),(0,n.domToggleClass)(this._wrapper,this.BLOCK_CLASS_WRAPPER+this.MODIFIER_SHOW,e),this.isShowed?(t&&this.setHideTimeout(t),this.calcPosition(),this._afterShowCallback&&this._afterShowCallback()):this._onHideCallbacks.forEach((function(e){e()}))},e.prototype.calcPosition=function(){this.isShowed&&(this._renderOptions.inBody?this._calculatePositionInBody():this._calculatePositionInWrapper())},Object.defineProperty(e.prototype,"isShowed",{get:function(){return this._wrapper.classList.contains(this.BLOCK_CLASS_WRAPPER+this.MODIFIER_SHOW)},enumerable:!1,configurable:!0}),e.prototype.onHide=function(e){this._onHideCallbacks.push(e)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.setHideTimeout=function(e){var t=this;void 0===e&&(e=100),clearTimeout(this._showTimeout),clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout((function(){t.toggle(!1)}),e)},e.prototype._calculateDirection=function(){if(-1===[a.PopoverPlacementsEnum.AUTO,a.PopoverPlacementsEnum.AUTO_X,a.PopoverPlacementsEnum.AUTO_Y].indexOf(this._renderOptions.placement))return this._renderOptions.placement;var e,t=this._wrapper.getBoundingClientRect(),o=new Map;if(-1!==[a.PopoverPlacementsEnum.AUTO,a.PopoverPlacementsEnum.AUTO_Y].indexOf(this._renderOptions.placement)){var i=this._screen.isDesktop?window.desktopFixedHeaderHeight+110||80:0;t.y-i>this._popover.offsetHeight?(e=a.PopoverPlacementsEnum.TOP,o.set(a.PopoverPlacementsEnum.TOP,t.top)):(e=a.PopoverPlacementsEnum.BOTTOM,o.set(a.PopoverPlacementsEnum.BOTTOM,t.top))}-1!==[a.PopoverPlacementsEnum.AUTO,a.PopoverPlacementsEnum.AUTO_X].indexOf(this._renderOptions.placement)&&(t.x>this._popover.offsetWidth&&(e=e||a.PopoverPlacementsEnum.RIGHT,o.set(a.PopoverPlacementsEnum.RIGHT,t.right)),t.x<this._popover.offsetWidth&&o.set(a.PopoverPlacementsEnum.LEFT,t.left));var n=0;return o.forEach((function(t,o){n<t&&(e=o,n=t)})),e},e.prototype._calculatePositionInWrapper=function(){var e=this.getPopover(),t=e.getBoundingClientRect();switch(e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("bottom"),e.style.removeProperty("right"),this._calculateDirection()){case a.PopoverPlacementsEnum.TOP:e.style.bottom="calc(100% + 10px)",e.style.left=(this._wrapper.offsetWidth/2-t.width/2).toString()+"px";break;case a.PopoverPlacementsEnum.BOTTOM:e.style.top="calc(100% + 10px)",e.style.left=(this._wrapper.offsetWidth/2-t.width/2).toString()+"px";break;case a.PopoverPlacementsEnum.LEFT:e.style.top=(this._wrapper.offsetHeight/2-t.height/2).toString()+"px",e.style.left="-"+(e.offsetWidth+10).toString()+"px";break;case a.PopoverPlacementsEnum.RIGHT:e.style.top=(this._wrapper.offsetHeight/2-t.height/2).toString()+"px",e.style.left=(this._wrapper.offsetWidth+10).toString()+"px"}this.checkBoundaries(e)},e.prototype._calculatePositionInBody=function(){var e=this.getPopover(),t=this._wrapper.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;switch(this._calculateDirection()){case a.PopoverPlacementsEnum.TOP:e.style.top=(t.top+i-e.offsetHeight-10).toString()+"px",e.style.left=(t.left+o-e.offsetWidth/2+t.width/2).toString()+"px";break;case a.PopoverPlacementsEnum.AUTO:case a.PopoverPlacementsEnum.BOTTOM:e.style.top=(t.top+i+this._wrapper.offsetHeight+10).toString()+"px",e.style.left=(t.left+o-e.offsetWidth/2+t.width/2).toString()+"px";break;case a.PopoverPlacementsEnum.LEFT:e.style.top=(t.top+i-this._popover.offsetHeight/2+this._wrapper.offsetHeight/2).toString()+"px",e.style.left=(t.left+o-(e.offsetWidth+10)).toString()+"px";break;case a.PopoverPlacementsEnum.RIGHT:e.style.top=(t.top+i-this._popover.offsetHeight/2+this._wrapper.offsetHeight/2).toString()+"px",e.style.left=(t.left+o+(this._wrapper.offsetWidth+10)).toString()+"px"}e.style.zIndex=""+((0,s.Dom_getMaxZIndex)(this._wrapper)+10),this.checkBoundaries(e)},e.prototype.checkBoundaries=function(e){var t=e.getBoundingClientRect(),o=this._wrapper.getBoundingClientRect(),i=window.outerHeight||screen.height,n=window.innerWidth||screen.width;t.left<0&&(e.style.right="initial",e.style.left="-1px"),t.left+t.width>n&&(e.style.left="initial",e.style.right="-1px"),t.top<0&&(e.style.top=o.bottom.toString()+"px"),t.top+t.height>i&&(e.style.top=o.top.toString()+"px")},e}();t.default=l},78296:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPlacementsEnum=void 0,function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.AUTO="auto",e.AUTO_X="auto-x",e.AUTO_Y="auto-y"}(t.PopoverPlacementsEnum||(t.PopoverPlacementsEnum={}))},39837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.domToggleClass=void 0,t.domToggleClass=function(e,t,o){void 0===o&&(o=!e.classList.contains(t)),!0===o?e.classList.add(t):e.classList.remove(t)}},42601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenTypes=void 0,function(e){e[e.SCREEN_NOT_SUPPORTED=0]="SCREEN_NOT_SUPPORTED",e[e.SCREEN_WIDE=1]="SCREEN_WIDE",e[e.SCREEN_DESKTOP=2]="SCREEN_DESKTOP",e[e.SCREEN_TABLET=3]="SCREEN_TABLET",e[e.SCREEN_MOBILE=4]="SCREEN_MOBILE"}(t.ScreenTypes||(t.ScreenTypes={}))},80138:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=o(42601),n=function(){function e(){var e=this;this.SCREEN_MOBILE_MIN_WIDTH=320,this.SCREEN_MOBILE_MAX_WIDTH=767,this.SCREEN_TABLET_MAX_WIDTH=991,this.SCREEN_DESKTOP_MAX_WIDTH=1199,this.EVENT_RESIZE="resize",this.EVENT_OPTIMIZED_RESIZE="optimizedResize",this.EVENT_SCREEN_TYPE_CHANGED="screenTypeChanged",this._currentScreenType=null,this.optimizeResizeEvent=function(t){t=t||window;var o=!1;t.addEventListener(e.EVENT_RESIZE,(function(){o||(o=!0,requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent(e.EVENT_OPTIMIZED_RESIZE));var i=e.calcCurrent();e._currentScreenType!==i&&(e._currentScreenType=i,t.dispatchEvent(new CustomEvent(e.EVENT_SCREEN_TYPE_CHANGED))),o=!1})))}))}}return Object.defineProperty(e.prototype,"current",{get:function(){return null===this._currentScreenType&&(this._currentScreenType=this.calcCurrent()),this._currentScreenType},enumerable:!1,configurable:!0}),e.prototype.calcCurrent=function(){var e=document.querySelector('meta[name="screen-type-helper"]');if(null!==e)return parseInt(e.content,10);var t=window.matchMedia;if(t){if(t("(min-width: "+(this.SCREEN_DESKTOP_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_WIDE;if(t("(min-width: "+(this.SCREEN_TABLET_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_DESKTOP;if(t("(min-width: "+(this.SCREEN_MOBILE_MAX_WIDTH+1)+"px)").matches)return i.ScreenTypes.SCREEN_TABLET;if(t("(min-width: "+this.SCREEN_MOBILE_MIN_WIDTH+"px)").matches)return i.ScreenTypes.SCREEN_MOBILE}else{var o=window.innerWidth;if(o>this.SCREEN_DESKTOP_MAX_WIDTH)return i.ScreenTypes.SCREEN_WIDE;if(o>this.SCREEN_TABLET_MAX_WIDTH)return i.ScreenTypes.SCREEN_DESKTOP;if(o>this.SCREEN_MOBILE_MAX_WIDTH)return i.ScreenTypes.SCREEN_TABLET;if(o>=this.SCREEN_MOBILE_MIN_WIDTH)return i.ScreenTypes.SCREEN_MOBILE}return i.ScreenTypes.SCREEN_NOT_SUPPORTED},e.prototype.check=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0,i=e;o<i.length;o++){if(i[o]===this.current)return!0}return!1},Object.defineProperty(e.prototype,"isDesktop",{get:function(){return this.check(i.ScreenTypes.SCREEN_DESKTOP,i.ScreenTypes.SCREEN_WIDE)},enumerable:!1,configurable:!0}),e.prototype.addResizeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.removeResizeListener=function(e){window.removeEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.addChangeScreenTypeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e.prototype.removeChangeScreenTypeListener=function(e){window.removeEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e}();t.default=n}},t={};(function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,o),r.exports})(90892)})();