# Документация для функции `GetInfo`

Функция `GetInfo` извлекает информацию о товаре с переданной HTML-страницы и возвращает объект с различными характеристиками товара.

## Описание

Функция `GetInfo` использует библиотеку **jsdom** для парсинга HTML и извлечения данных из DOM-дерева. Она получает HTML-страницу, находит необходимые элементы с помощью CSS-селекторов, и затем с использованием вспомогательных функций конвертирует или обрабатывает извлеченные данные.

### Параметры

- **`htmlPages`** (string): Строка, содержащая HTML-разметку страницы с товаром. Весь HTML должен быть передан как строка, которую функция парсит с помощью **jsdom**.

### Возвращаемое значение

Функция не возвращает ничего. Однако она выводит в консоль объект `product`, содержащий информацию о товаре.

### Структура объекта `product`

Объект `product` содержит следующие поля:

- **`id`**: Уникальный идентификатор товара. Генерируется с помощью функции `generateUniqueId`. Если идентификатор товара отсутствует, генерируется новый уникальный ID.
- **`name`**: Название товара. Извлекается с помощью CSS-селектора `.product-card-top__title` и обрабатывается функцией `isValidName` (если строка пуста, возвращается "не указано").
- **`descriptionSmall`**: Краткое описание товара. Извлекается с помощью CSS-селектора `.product-card-top__specs` и обрабатывается функцией `conventorDescription` (удаляет лишние символы в конце).
- **`price`**: Цена товара. Извлекается с помощью CSS-селектора `.product-buy__price` и обрабатывается функцией `conventorPrice` (оставляет только цифры).
- **`descriptionAll`**: Полное описание товара. Извлекается с помощью CSS-селектора `.product-card-description-text` и обрабатывается функцией `conventorDescription` (не обрезает строку).
- **`modelSpecifications`**: Массив с характеристиками модели товара. Извлекается с помощью CSS-селектора `.product-characteristics-content` и обрабатывается функцией `MakeModelSpecifications`.

## Использование

```javascript
import { GetInfo } from './getInfo.js';

const htmlContent = '<html>...</html>'; // Передайте сюда HTML-страницу как строку
GetInfo(htmlContent);
```

После выполнения функции в консоль будет выведен объект `product`, содержащий информацию о товаре, например:

```json
{
  "id": "product-id-12345",
  "name": "Товар",
  "descriptionSmall": "Краткое описание товара",
  "price": 1000,
  "descriptionAll": "Полное описание товара...",
  "modelSpecifications": [
    {
      "nameCategory": "Характеристика 1",
      "Specification 1": "Значение 1",
      "Specification 2": "Значение 2"
    },
    {
      "nameCategory": "Характеристика 2",
      "Specification A": "Значение A"
    }
  ]
}
```

### Примечания

- Функция предполагает, что на переданной странице есть необходимые элементы, такие как:
  - `.product-card` — элемент с ID товара.
  - `.product-card-top__title` — элемент с названием товара.
  - `.product-card-top__specs` — краткое описание товара.
  - `.product-buy__price` — цена товара.
  - `.product-card-description-text` — полное описание товара.
  - `.product-characteristics-content` — блок с характеристиками товара.

- Если какой-либо элемент не найден, то функция может вернуть `undefined` или пустое значение, в зависимости от того, как настроены вспомогательные функции (например, `isValidName` или `conventorDescription`).

---

## Вспомогательные функции

### `generateUniqueId(idSelector)`
Функция генерирует уникальный идентификатор для товара или возвращает переданный `idSelector`, если он существует.

- **Параметры**: `idSelector` (string) — идентификатор товара.
- **Возвращаемое значение**: Уникальный идентификатор (string).

### `isValidName(name)`
Функция проверяет, является ли переданное имя непустым, и возвращает его. Если имя пустое, возвращается `"не указано"`.

- **Параметры**: `name` (string) — имя товара.
- **Возвращаемое значение**: Проверенное имя товара (string).

### `conventorDescription(str, bool = true)`
Функция обрабатывает строку с описанием товара. Если `bool` равен `true`, она обрезает последние 10 символов, если `false` — оставляет строку целиком.

- **Параметры**:
  - `str` (string) — описание товара.
  - `bool` (boolean) — флаг, определяющий, нужно ли обрезать строку.
- **Возвращаемое значение**: Обрезанная или необрезанная строка (string).

### `conventorPrice(str)`
Функция извлекает цену из строки, оставляя только цифры.

- **Параметры**: `str` (string) — строка с ценой.
- **Возвращаемое значение**: Числовое значение цены (number) или `"не указано"`.

### `MakeModelSpecifications(blockHtml, document)`
Функция извлекает спецификации товара из блока HTML и возвращает их в виде массива объектов.

- **Параметры**:
  - `blockHtml` (HTMLElement) — HTML-блок с характеристиками товара.
  - `document` (Document) — объект DOM для парсинга.
- **Возвращаемое значение**: Массив объектов с характеристиками товара.

---

## Заключение

Функция `GetInfo` является полезным инструментом для парсинга информации о товаре с HTML-страницы, извлекая ключевые данные и конвертируя их в удобный формат.